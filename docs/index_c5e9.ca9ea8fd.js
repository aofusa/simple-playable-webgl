(function(_){for(var r in _){_[r].__farm_resource_pot__='index_c5e9.js';(globalThis || window || global)['2732537ceacf0b135848c632e5c6abaa'].__farm_module_system__.register(r,_[r])}})({"3f49111e":function  (t,r,o,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var o in r)Object.defineProperty(t,o,{enumerable:!0,get:r[o]});}(r,{ProgramInfo:function(){return n;},createShaderProgram:function(){return c;}});let i=o("fb935ce4");class n{program;attribLocations;uniformLocations;constructor(t,r,o){this.program=t,this.attribLocations=new Map(Object.entries(r)),this.uniformLocations=new Map(Object.entries(o));}getProgram(){return this.program;}getAttribLocation(t){return this.attribLocations.get(t);}getUniformLocation(t){return this.uniformLocations.get(t);}}let l=`
	attribute vec4 aVertexPosition;
	uniform mat4 uModelViewMatrix;
	uniform mat4 uProjectionMatrix;

	void main() {
		gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
	}
`,u=`
	void main() {
		gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
	}
`;function c(t){let r=(0,i.initShaderProgram)(t,l,u);if(null===r)return console.warn("init shader program error"),null;let o=t.getAttribLocation(r,"aVertexPosition"),e=t.getUniformLocation(r,"uProjectionMatrix"),c=t.getUniformLocation(r,"uModelViewMatrix");return((null===o||-1===o)&&console.warn("get vertex position error"),(null===e||-1===e)&&console.warn("get projection matrix error"),(null===c||-1===c)&&console.warn("get model view matrix error"),null===o||null===e||null===c||-1===o||-1===e||-1===c)?null:new n(r,{vertexPosition:o},{projectionMatrix:e,modelViewMatrix:c});}},"7f44d301":function  (e,o,r,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"KeyState",{enumerable:!0,get:function(){return n;}});let n={right:!1,left:!1,up:!1,down:!1};document.addEventListener("keydown",function(e){("Right"===e.key||"ArrowRight"===e.key||"d"===e.key)&&(console.log("right press"),n.right=!0),("Left"===e.key||"ArrowLeft"===e.key||"a"===e.key)&&(console.log("left press"),n.left=!0),("Up"===e.key||"ArrowUp"===e.key||"w"===e.key)&&(console.log("up press"),n.up=!0),("Down"===e.key||"ArrowDown"===e.key||"s"===e.key)&&(console.log("down press"),n.down=!0);},!1),document.addEventListener("keyup",function(e){("Right"===e.key||"ArrowRight"===e.key||"d"===e.key)&&(console.log("right release"),n.right=!1),("Left"===e.key||"ArrowLeft"===e.key||"a"===e.key)&&(console.log("left release"),n.left=!1),("Up"===e.key||"ArrowUp"===e.key||"w"===e.key)&&(console.log("up release"),n.up=!1),("Down"===e.key||"ArrowDown"===e.key||"s"===e.key)&&(console.log("down release"),n.down=!1);},!1);},"87e8ac49":function  (e,t,r,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]});}(t,{drawScene:function(){return m;},initScene:function(){return s;},updateScene:function(){return f;}});let n=r("5ce35544"),o=r("3f49111e"),i=r("cfc8ecc5"),l=r("7f44d301"),u=r("893cf13d");function s(e){let t={fieldOfView:45*Math.PI/100,aspect:e.canvas.width/e.canvas.height,zNear:.1,zFar:100,position:[-0,0,-6]},r=n.mat4.create();n.mat4.perspective(r,t.fieldOfView,t.aspect,t.zNear,t.zFar);let c=n.mat4.create();n.mat4.translate(c,c,t.position);let l={camera:t,projectionMatrix:r,modelViewMatrix:c,objects:[]},s=(0,o.createShaderProgram)(e);if(null===s)return console.warn("create simple program error"),null;let f=(0,i.createShaderProgram)(e);if(null===f)return console.warn("create color program error"),null;let m=new u.RectObject(e,n.vec3.fromValues(0,0,0),s,l),p=new u.RectObject(e,n.vec3.fromValues(2.5,0,0),f,l);return l.objects.push(m),l.objects.push(p),e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),l;}function f(e){l.KeyState.right&&(e.camera.position[0]-=.1),l.KeyState.left&&(e.camera.position[0]+=.1),l.KeyState.up&&(e.camera.position[2]+=.1),l.KeyState.down&&(e.camera.position[2]-=.1),n.mat4.identity(e.modelViewMatrix),n.mat4.translate(e.modelViewMatrix,e.modelViewMatrix,e.camera.position),e.objects.forEach((e,t,r)=>e.update());}function m(e,t){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t.objects.forEach((t,r,c)=>t.draw(e));}},"893cf13d":function  (t,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RectObject",{enumerable:!0,get:function(){return s;}});let o=r("e4115865"),n=r("5ce35544");class s{programInfo;buffers;scene;positionMatrix;constructor(t,e,r,i){this.programInfo=r;let s=(0,o.initBuffers)(t);if(null===s)throw console.warn("init buffer error"),"init buffer error";this.buffers=s,this.scene=i,this.positionMatrix=n.mat4.create(),n.mat4.translate(this.positionMatrix,this.positionMatrix,e);}update(){}draw(t){(function(t,e,r){let i=t.FLOAT,o=r.getAttribLocation("vertexPosition");if(void 0===o){console.warn("undefined vertex position index in shader. skip");return;}t.bindBuffer(t.ARRAY_BUFFER,e.position),t.vertexAttribPointer(o,2,i,!1,0,0),t.enableVertexAttribArray(o);})(t,this.buffers,this.programInfo),function(t,e,r){let i=t.FLOAT,o=r.getAttribLocation("vertexColor");if(void 0===o){console.warn("undefined vertex color index in shader. skip");return;}t.bindBuffer(t.ARRAY_BUFFER,e.color),t.vertexAttribPointer(o,4,i,!1,0,0),t.enableVertexAttribArray(o);}(t,this.buffers,this.programInfo),t.useProgram(this.programInfo.getProgram());let e=this.programInfo.getUniformLocation("projectionMatrix"),r=this.programInfo.getUniformLocation("modelViewMatrix");if(void 0===e||void 0===r){console.warn("undefined model view projection matrix in shader. skip");return;}let i=n.mat4.create();n.mat4.mul(i,this.positionMatrix,this.scene.modelViewMatrix),t.uniformMatrix4fv(e,!1,this.scene.projectionMatrix),t.uniformMatrix4fv(r,!1,i),t.drawArrays(t.TRIANGLE_STRIP,0,4);}}},"bee6f350":function  (e,n,t,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"setupGLCanvasGraphics",{enumerable:!0,get:function(){return u;}});let c=t("87e8ac49"),l=1e3/60;function u(e){let n=e.getContext("webgl2");if(null===n){console.warn("not HTMLCanvasElement");return;}let t=(0,c.initScene)(n);if(null===t){console.warn("init scene error");return;}setInterval(i,l,n,t);}function i(e,n){(0,c.updateScene)(n),(0,c.drawScene)(e,n);}},"cfc8ecc5":function  (r,o,t,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(r,o){for(var t in o)Object.defineProperty(r,t,{enumerable:!0,get:o[t]});}(o,{ProgramInfo:function(){return n;},createShaderProgram:function(){return u;}});let i=t("fb935ce4");class n{program;attribLocations;uniformLocations;constructor(r,o,t){this.program=r,this.attribLocations=new Map(Object.entries(o)),this.uniformLocations=new Map(Object.entries(t));}getProgram(){return this.program;}getAttribLocation(r){return this.attribLocations.get(r);}getUniformLocation(r){return this.uniformLocations.get(r);}}let l=`
	attribute vec4 aVertexPosition;
	attribute vec4 aVertexColor;

	uniform mat4 uModelViewMatrix;
	uniform mat4 uProjectionMatrix;

	varying lowp vec4 vColor;

	void main() {
		gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
		vColor = aVertexColor;
	}
`,c=`
	varying lowp vec4 vColor;

	void main() {
		gl_FragColor = vColor;
	}
`;function u(r){let o=(0,i.initShaderProgram)(r,l,c);if(null===o)return console.warn("init shader program error"),null;let t=r.getAttribLocation(o,"aVertexPosition"),e=r.getAttribLocation(o,"aVertexColor"),u=r.getUniformLocation(o,"uProjectionMatrix"),s=r.getUniformLocation(o,"uModelViewMatrix");return((null===t||-1===t)&&console.warn("get vertex position error"),(null===e||-1===e)&&console.warn("get vertex color error"),(null===u||-1===u)&&console.warn("get projection matrix error"),(null===s||-1===s)&&console.warn("get model view matrix error"),null===t||-1===t||null===e||-1===e||null===u||-1===u||null===s||-1===s)?null:new n(o,{vertexPosition:t,vertexColor:e},{projectionMatrix:u,modelViewMatrix:s});}},"e4115865":function  (e,r,n,t){"use strict";function u(e){let r=function(e){let r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW),r;}(e);if(null===r)return console.warn("init buffer error"),null;let n=function(e){let r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),e.STATIC_DRAW),r;}(e);return null===n?(console.warn("init color buffer error"),null):{position:r,color:n};}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"initBuffers",{enumerable:!0,get:function(){return u;}});},"ec2bf3a9":function  (e,n,o,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let c=o("bee6f350");!function(){let e=document.querySelector("#gl-canvas");e?(console.log(e),(0,c.setupGLCanvasGraphics)(e)):console.warn("#gl-canvas not found");}();},"fb935ce4":function  (r,e,n,o){"use strict";function l(r,e,n){let o=t(r,r.VERTEX_SHADER,e),l=t(r,r.FRAGMENT_SHADER,n);if(null===o)return console.warn("vertex shader load error"),null;if(null===l)return console.warn("fragmen shader load error"),null;let u=r.createProgram();return null===u?(console.warn("shader compile eror"),null):(r.attachShader(u,o),r.attachShader(u,l),r.linkProgram(u),r.getProgramParameter(u,r.LINK_STATUS))?u:(console.warn("shader init error: ",r.getProgramInfoLog(u)),null);}function t(r,e,n){let o=r.createShader(e);return null===o?(console.warn("load shader source error"),null):(r.shaderSource(o,n),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS))?o:(console.warn("compile shader error: ",r.getShaderInfoLog(o)),null);}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"initShaderProgram",{enumerable:!0,get:function(){return l;}});},});
//# sourceMappingURL=index_c5e9.ca9ea8fd.js.map