(function(_){for(var r in _){_[r].__farm_resource_pot__='index_94d1.js';(globalThis || window || global)['2732537ceacf0b135848c632e5c6abaa'].__farm_module_system__.register(r,_[r])}})({"7656c929":function  (e,r,o,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createShaderProgram",{enumerable:!0,get:function(){return u;}});let i=o("86d1e030"),n=`
	attribute vec4 aVertexPosition;
	uniform mat4 uModelViewMatrix;
	uniform mat4 uProjectionMatrix;

	void main() {
		gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
	}
`,l=`
	void main() {
		gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
	}
`;function u(e){let r=(0,i.initShaderProgram)(e,n,l);if(null===r)return console.warn("init shader program error"),null;let o=e.getAttribLocation(r,"aVertexPosition"),t=e.getUniformLocation(r,"uProjectionMatrix"),u=e.getUniformLocation(r,"uModelViewMatrix");return((null===o||-1===o)&&console.warn("get vertex position error"),(null===t||-1===t)&&console.warn("get projection matrix error"),(null===u||-1===u)&&console.warn("get model view matrix error"),null===o||null===t||null===u||-1===o||-1===t||-1===u)?null:{program:r,attribLocations:{vertexPosition:o},uniformLocations:{projectionMatrix:t,modelViewMatrix:u}};}},"7f44d301":function  (e,o,r,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"KeyState",{enumerable:!0,get:function(){return n;}});let n={right:!1,left:!1,up:!1,down:!1};document.addEventListener("keydown",function(e){("Right"===e.key||"ArrowRight"===e.key||"d"===e.key)&&(console.log("right press"),n.right=!0),("Left"===e.key||"ArrowLeft"===e.key||"a"===e.key)&&(console.log("left press"),n.left=!0),("Up"===e.key||"ArrowUp"===e.key||"w"===e.key)&&(console.log("up press"),n.up=!0),("Down"===e.key||"ArrowDown"===e.key||"s"===e.key)&&(console.log("down press"),n.down=!0);},!1),document.addEventListener("keyup",function(e){("Right"===e.key||"ArrowRight"===e.key||"d"===e.key)&&(console.log("right release"),n.right=!1),("Left"===e.key||"ArrowLeft"===e.key||"a"===e.key)&&(console.log("left release"),n.left=!1),("Up"===e.key||"ArrowUp"===e.key||"w"===e.key)&&(console.log("up release"),n.up=!1),("Down"===e.key||"ArrowDown"===e.key||"s"===e.key)&&(console.log("down release"),n.down=!1);},!1);},"86d1e030":function  (r,e,n,o){"use strict";function l(r,e,n){let o=t(r,r.VERTEX_SHADER,e),l=t(r,r.FRAGMENT_SHADER,n);if(null===o)return console.warn("vertex shader load error"),null;if(null===l)return console.warn("fragmen shader load error"),null;let u=r.createProgram();return null===u?(console.warn("shader compile eror"),null):(r.attachShader(u,o),r.attachShader(u,l),r.linkProgram(u),r.getProgramParameter(u,r.LINK_STATUS))?u:(console.warn("shader init error: ",r.getProgramInfoLog(u)),null);}function t(r,e,n){let o=r.createShader(e);return null===o?(console.warn("load shader source error"),null):(r.shaderSource(o,n),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS))?o:(console.warn("compile shader error: ",r.getShaderInfoLog(o)),null);}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"initShaderProgram",{enumerable:!0,get:function(){return l;}});},"87e8ac49":function  (e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]});}(t,{drawScene:function(){return u;},initScene:function(){return l;},updateScene:function(){return f;}});let n=r("5ce35544"),o=r("7656c929"),c=r("7f44d301");function l(e){let t=(0,o.createShaderProgram)(e);if(null===t)return console.warn("create program error"),null;let r=function(e){let t=function(e){let t=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW),t;}(e);return null===t?(console.warn("init buffer error"),null):{position:t};}(e);if(null===r)return console.warn("init buffer error"),null;let i={fieldOfView:45*Math.PI/100,aspect:e.canvas.width/e.canvas.height,zNear:.1,zFar:100,position:[-0,0,-6]},c=n.mat4.create();n.mat4.perspective(c,i.fieldOfView,i.aspect,i.zNear,i.zFar);let l=n.mat4.create();return n.mat4.translate(l,l,i.position),e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),{programInfo:t,buffers:r,camera:i,projectionMatrix:c,modelViewMatrix:l};}function f(e){c.KeyState.right&&(e.camera.position[0]-=.1),c.KeyState.left&&(e.camera.position[0]+=.1),c.KeyState.up&&(e.camera.position[2]+=.1),c.KeyState.down&&(e.camera.position[2]-=.1),n.mat4.identity(e.modelViewMatrix),n.mat4.translate(e.modelViewMatrix,e.modelViewMatrix,e.camera.position),console.log("camera: ",e.camera.position);}function u(e,t){let r=t.programInfo;e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),function(e,t,r){let i=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,t.position),e.vertexAttribPointer(r.attribLocations.vertexPosition,2,i,!1,0,0),e.enableVertexAttribArray(r.attribLocations.vertexPosition);}(e,t.buffers,r),e.useProgram(r.program),e.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,t.projectionMatrix),e.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,t.modelViewMatrix),e.drawArrays(e.TRIANGLE_STRIP,0,4);}},"bee6f350":function  (e,n,t,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"setupGLCanvasGraphics",{enumerable:!0,get:function(){return u;}});let c=t("87e8ac49"),l=1e3/60;function u(e){let n=e.getContext("webgl2");if(null===n){console.warn("not HTMLCanvasElement");return;}let t=(0,c.initScene)(n);if(null===t){console.warn("init scene error");return;}setInterval(i,l,n,t);}function i(e,n){(0,c.updateScene)(n),(0,c.drawScene)(e,n);}},"ec2bf3a9":function  (e,n,o,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let c=o("bee6f350");!function(){let e=document.querySelector("#gl-canvas");e?(console.log(e),(0,c.setupGLCanvasGraphics)(e)):console.warn("#gl-canvas not found");}();},});
//# sourceMappingURL=index_94d1.74cc631d.js.map